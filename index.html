<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Goose Light Productions</title>
  <style>
    html, body { height:100%; margin:0; padding:0; }
    body {
      font-family:"Nunito", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #2e272c;
      color: white;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* Fullscreen WebGL canvas */
    #fluid {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: -1;
      pointer-events: none; /* important — does not steal scroll */
    }

    .page {
      max-width: 1000px;
      margin: 0 auto;
      padding: 48px 20px;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    .hero-img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }

    .contact {
      display: inline-block;
      margin-top: 20px;
      font-size: 1.25rem;
      color: #fff;
      text-decoration: none;
      background: rgba(0,0,0,0.18);
      padding: 8px 14px;
      border-radius: 6px;
      backdrop-filter: blur(4px);
    }

    .future-text {
      margin: 40px 0;
      padding: 20px;
      background: rgba(0,0,0,0.15);
      border-radius: 8px;
      color: #ddd;
      font-size: 1rem;
    }

    .future-content {
      margin-top: 40px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .future-item {
      flex: 1 1 calc(33% - 20px);
      max-width: calc(33% - 20px);
      text-align: center;
    }

    .future-item img,
    .future-item iframe {
      width: 100%;
      border-radius: 8px;
      display: block;
    }

    .future-item p {
      margin-top: 8px;
      font-size: 0.95rem;
      color: #ccc;
    }

    @media (max-width:900px){
      .future-item { flex: 1 1 calc(50% - 20px); max-width: calc(50% - 20px); }
    }

    @media (max-width:600px){
      .future-item { flex: 1 1 100%; max-width: 100%; }
      .future-item iframe { height: 200px; }
    }
  </style>
</head>
<body>

  <canvas id="fluid" aria-hidden="true"></canvas>

  <main class="page" role="main">
    <img class="hero-img" src="./assets/images/background_image_01.png" alt="Background Image">
    <p><a class="contact" href="mailto:gooselightproductions@gmail.com">contact</a></p>

    <div class="future-text">
      <p>Vicollage: Live interactive lo-fi analog video synthesis using old AV equipment & found materials.</p>
    </div>

    <div class="future-content">

      <!-- 15 Uppercase Images -->
      <div class="future-item"><img src="./assets/images/Photo_01.jpg" alt="Photo 01"></div>
      <div class="future-item"><img src="./assets/images/Photo_02.jpg" alt="Photo 02"></div>
      <div class="future-item"><img src="./assets/images/Photo_03.jpg" alt="Photo 03"></div>
      <div class="future-item"><img src="./assets/images/Photo_04.jpg" alt="Photo 04"></div>
      <div class="future-item"><img src="./assets/images/Photo_05.jpg" alt="Photo 05"></div>
      <div class="future-item"><img src="./assets/images/Photo_06.jpg" alt="Photo 06"></div>
      <div class="future-item"><img src="./assets/images/Photo_07.jpg" alt="Photo 07"></div>
      <div class="future-item"><img src="./assets/images/Photo_08.jpg" alt="Photo 08"></div>
      <div class="future-item"><img src="./assets/images/Photo_09.jpg" alt="Photo 09"></div>
      <div class="future-item"><img src="./assets/images/Photo_10.jpg" alt="Photo 10"></div>
      <div class="future-item"><img src="./assets/images/Photo_11.jpg" alt="Photo 11"></div>
      <div class="future-item"><img src="./assets/images/Photo_12.jpg" alt="Photo 12"></div>
      <div class="future-item"><img src="./assets/images/Photo_13.jpg" alt="Photo 13"></div>
      <div class="future-item"><img src="./assets/images/Photo_14.jpg" alt="Photo 14"></div>
      <div class="future-item"><img src="./assets/images/Photo_15.jpg" alt="Photo 15"></div>

      <!-- YouTube Embeds -->
      <div class="future-item">
        <iframe 
          src="https://www.youtube.com/embed/uAokNkgNvcg?start=540" 
          title="Ephemerald Band - Studio Carquinez"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen></iframe>
        <p>Ephemerald Band - Studio Carquinez</p>
      </div>

      <div class="future-item">
        <iframe 
          src="https://www.youtube.com/embed/zwIZsX7OFqY"
          title="Consolidated Electric - Deep Time"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen></iframe>
        <p>Consolidated Electric - Deep Time</p>
      </div>

      <div class="future-item">
        <iframe 
          src="https://www.youtube.com/embed/gLRyturQBfE"
          title="Modal Float - Blue or White or Yellow"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen></iframe>
        <p>Modal Float – Blue or White or Yellow</p>
      </div>

    </div>
  </main>

  <!-- Fluid Shader -->
  <script id="frag-shader" type="x-shader/x-fragment">
    precision highp float;
    uniform vec2 u_resolution;
    uniform float u_time;
    uniform vec2 u_pointer;
    uniform float u_aspect;
    uniform float u_detail;
    uniform float u_speed;

    float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1,311.7)))*43758.5453123); }
    float noise(vec2 p){
      vec2 i=floor(p);
      vec2 f=fract(p);
      vec2 u=f*f*(3.0-2.0*f);
      float a=hash(i); float b=hash(i+vec2(1.0,0.0));
      float c=hash(i+vec2(0.0,1.0)); float d=hash(i+vec2(1.0,1.0));
      return mix(mix(a,b,u.x), mix(c,d,u.x), u.y);
    }

    vec2 curl(vec2 p, float t){
      float eps=0.0008;
      float n1=noise(p+vec2(eps,0.0)+t*0.1);
      float n2=noise(p-vec2(eps,0.0)+t*0.1);
      float n3=noise(p+vec2(0.0,eps)+t*0.1);
      float n4=noise(p-vec2(0.0,eps)+t*0.1);
      float dx=(n1-n2)*0.5/eps;
      float dy=(n3-n4)*0.5/eps;
      return vec2(dy,-dx);
    }

    vec3 palette(float t){
      vec3 base=vec3(0.10,0.05,0.08);
      vec3 orange=vec3(0.95,0.60,0.25);
      vec3 purple=vec3(0.60,0.20,0.80);
      vec3 yellow=vec3(0.94,0.79,0.23);
      float o=smoothstep(0.0,0.33,t)*(1.0-smoothstep(0.33,0.66,t));
      float p=smoothstep(0.33,0.66,t)*(1.0-smoothstep(0.66,1.0,t));
      float y=smoothstep(0.66,1.0,t);
      return base + orange*o + purple*p + yellow*y;
    }

    void main(){
      vec2 uv = gl_FragCoord.xy/u_resolution.xy;
      vec2 p = (gl_FragCoord.xy-0.5*u_resolution.xy)/min(u_resolution.x,u_resolution.y);
      float t = u_time*u_speed;
      vec2 v = vec2(0.0);
      float scale=1.0;
      float amp = mix(0.25,0.75,u_detail);
      for(int i=0;i<3;i++){
        vec2 c=curl(p*scale+float(i)*10.0, t+float(i)*2.0);
        v+=c*amp; scale*=2.0; amp*=0.5;
      }
      vec2 mp=u_pointer.xy/u_resolution.xy*2.0-1.0; mp.y*=-1.0;
      float dist=length((p-mp)*vec2(u_aspect,1.0));
      v+=normalize(vec2(sin(t*2.0+dist*6.0),cos(t*1.7-dist*4.0)))*exp(-dist*5.0)*1.4*u_detail;
      vec2 adv=uv+v*0.06;
      float n1=noise(adv*(1.0+u_detail*3.0)+vec2(t*0.12));
      float n2=noise(adv*(2.2+u_detail*6.0)-vec2(t*0.07));
      float mixv=clamp(n1*0.6+n2*0.4,0.0,1.0);
      vec3 col=palette(mixv+length(v)*0.12+sin(t*0.2)*0.03);
      float vign=smoothstep(0.95,0.25,length((uv-0.5)*vec2(u_aspect,1.0)));
      col*=mix(1.0,0.75,vign);
      gl_FragColor=vec4(col,1.0);
    }
  </script>

  <script>
  (function(){
    const canvas=document.getElementById('fluid');
    const fragSrc=document.getElementById('frag-shader').textContent;
    const gl=canvas.getContext('webgl',{antialias:true});
    if(!gl){console.warn('WebGL not supported — fluid background disabled.'); return;}

    function compile(type,src){
      const sh=gl.createShader(type);
      gl.shaderSource(sh,src);
      gl.compileShader(sh);
      if(!gl.getShaderParameter(sh,gl.COMPILE_STATUS)){
        console.error('Shader error:',gl.getShaderInfoLog(sh));
        return null;
      }
      return sh;
    }

    const vsrc='attribute vec2 a_pos; void main(){ gl_Position=vec4(a_pos,0.0,1.0); }';
    const vsh=compile(gl.VERTEX_SHADER,vsrc);
    const fsh=compile(gl.FRAGMENT_SHADER,fragSrc);
    if(!vsh||!fsh) return;

    const prog=gl.createProgram();
    gl.attachShader(prog,vsh);
    gl.attachShader(prog,fsh);
    gl.linkProgram(prog);
    if(!gl.getProgramParameter(prog,gl.LINK_STATUS)){
      console.error('Link error',gl.getProgramInfoLog(prog));
      return;
    }
    gl.useProgram(prog);

    const buf=gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER,buf);
    gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),gl.STATIC_DRAW);
    const aPos=gl.getAttribLocation(prog,'a_pos');
    gl.enableVertexAttribArray(aPos);
    gl.vertexAttribPointer(aPos,2,gl.FLOAT,false,0,0);

    const uResolution=gl.getUniformLocation(prog,'u_resolution');
    const uTime=gl.getUniformLocation(prog,'u_time');
    const uPointer=gl.getUniformLocation(prog,'u_pointer');
    const uAspect=gl.getUniformLocation(prog,'u_aspect');
    const uDetail=gl.getUniformLocation(prog,'u_detail');
    const uSpeed=gl.getUniformLocation(prog,'u_speed');

    function resizeCanvas(){
      const dpr = window.devicePixelRatio || 1;
      const w = window.innerWidth;
      const h = window.innerHeight;
      canvas.width = w * dpr;
      canvas.height = h * dpr;
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
      gl.viewport(0,0,canvas.width,canvas.height);
    }

    window.addEventListener('resize',resizeCanvas);
    resizeCanvas();

    let pointer=[0,0];

    function updatePointerFromEvent(e){
      const rect=canvas.getBoundingClientRect();
      const touch=e.touches ? e.touches[0] : e;
      pointer[0] = (touch.clientX - rect.left) * (window.devicePixelRatio || 1);
      pointer[1] = (touch.clientY - rect.top) * (window.devicePixelRatio || 1);
    }

    /* --- MOBILE SCROLL FIX --- */
    window.addEventListener('touchmove', (e) => {
      if (e.target === canvas) {
        e.preventDefault();   // only block scrolling when finger is ON the canvas
        updatePointerFromEvent(e);
      }
    }, { passive: false });

    window.addEventListener('mousemove', (e) => updatePointerFromEvent(e));

    let start=performance.now();
    let detail=1.0, speed=1.0;

    function render(){
      const now=performance.now();
      const t=(now-start)/1000;

      gl.uniform2f(uResolution,canvas.width,canvas.height);
      gl.uniform1f(uTime,t);
      gl.uniform2f(uPointer,pointer[0],pointer[1]);
      gl.uniform1f(uAspect,canvas.width/canvas.height);
      gl.uniform1f(uDetail,detail);
      gl.uniform1f(uSpeed,speed);

      gl.drawArrays(gl.TRIANGLES,0,6);
      requestAnimationFrame(render);
    }

    requestAnimationFrame(render);
  })();
  </script>

</body>
</html>
